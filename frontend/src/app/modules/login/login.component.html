<div class="d-flex min-vh-100 flex-column w-100">
    <header class="bg-dark bg-gradient text-light">
        <div class="d-flex container py-2 px-3 justify-content-center">
            <i class="bi bi-chat-dots-fill fs-5"></i>
        </div>
    </header>

    <div class="container d-flex flex-grow-1 py-4 px-3 justify-content-center">
        <div class="d-flex align-items-center justify-content-center w-100">
            <div class="col-12 col-md-6 col-lg-4">
                <form class="p-4 rounded shadow-sm">
                    <div class="input-group input-group-sm mb-4 has-validation">
                        <span class="input-group-text">
                            <i class="bi bi-person"></i>
                        </span>

                        <div
                            class="form-floating"
                            [ngClass]="{
                                'is-invalid':
                                    usernameInput.invalid &&
                                    usernameInput.touched
                            }"
                        >
                            <input
                                type="text"
                                class="form-control w-100"
                                id="username"
                                placeholder="Choose a name"
                                [(ngModel)]="username"
                                [ngModelOptions]="{ standalone: true }"
                                #usernameInput="ngModel"
                                required
                                minlength="3"
                                [ngClass]="{
                                    'is-invalid':
                                        usernameInput.invalid &&
                                        usernameInput.touched
                                }"
                            />

                            <label for="username">Choose a name</label>
                        </div>

                        <div
                            *ngIf="
                                usernameInput.invalid && usernameInput.touched
                            "
                            class="invalid-feedback"
                        >
                            Please choose a name.
                        </div>
                    </div>

                    <button
                        [disabled]="usernameInput.invalid"
                        type="submit"
                        class="btn btn-primary w-100"
                        (click)="login()"
                    >
                        <span *ngIf="!isLoading">Sign in</span>

                        <div *ngIf="isLoading">
                            <span
                                class="spinner-border spinner-border-sm me-2"
                                aria-hidden="true"
                            ></span>
                            <span role="status">Signing in...</span>
                        </div>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <app-footer></app-footer>
</div>
